port 7000                                       # Redis port for this node

cluster-enabled yes                             # Enable cluster mode
cluster-config-file nodes.conf                  # File to store cluster state (auto-generated)
cluster-node-timeout 5000                       # Cluster node timeout in ms

appendonly yes                                  # Enable AOF (log every write for persistence)
dir /data                                       # Directory to store AOF and nodes.conf (should be mounted outside container)
save ""                                         # Disable RDB snapshot (rely only on AOF)

cluster-announce-hostname redis-node1           # Hostname for other nodes to identify this node

protected-mode no                               # Allow external access (suitable for Docker cluster)

loadmodule /opt/redis-stack/lib/rejson.so       # Load RedisJSON module
loadmodule /opt/redis-stack/lib/redisearch.so   # Load RediSearch module
